<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fxsocy | Main Page</title>
    <link rel="stylesheet" href="success.css">
    <link rel="website icon" type="png" href="avira_blog_mr.robot-fsociety.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    
    <style>
        body {
            background-image: 
                repeating-linear-gradient(
                    90deg,
                    rgba(0, 255, 102, 0.1) 0px,
                    rgba(0, 255, 102, 0.1) 1px,
                    transparent 1px,
                    transparent 20px
                ),
                repeating-linear-gradient(
                    0deg,
                    rgba(0, 255, 102, 0.08) 0px,
                    rgba(0, 255, 102, 0.08) 1px,
                    transparent 1px,
                    transparent 20px
                );
        }
    </style>
</head>
<body>
    <!--Floating binary numbers-->
    <div class="binary-stream" style="top: 13%; left: 42%;">01100110</div>
    <div class="binary-stream" style="top: 32%; left: 70%;">01110101</div>
    <div class="binary-stream" style="top: 83%; left: 80%;">01110101</div>
    <div class="binary-stream" style="top: 24%; left: 23%;">01101011</div>
    <div class="binary-stream" style="top: 66%; left: 70%;">00100000</div>
    <div class="binary-stream" style="top: 10%; left: 86%;">01110011</div>
    <div class="binary-stream" style="top: 40%; left: 20%;">01101111</div>
    <div class="binary-stream" style="top: 76%; left: 45%;">01100011</div>
    <div class="binary-stream" style="top: 20%; left: 6%;">01101001</div>
    <div class="binary-stream" style="top: 60%; left: 12%;">01100101</div>
    <div class="binary-stream" style="top: 87%; left: 22%;">01110100</div>
    <div class="binary-stream" style="top: 47%; left: 95%;">01111001</div>

    <div class="content">
        <h1>Login Successful!</h1>
        <h2>Here are some games you can play!</h2>

        <div class="grid">
            <div class="box" onclick="trackGame('Game 01')">
                <div class="box-header">Game 01</div>
            </div>
            <div class="box" onclick="trackGame('Game 02')">
                <div class="box-header">Game 02</div>
            </div>
            <div class="box" onclick="trackGame('Game 03')">
                <div class="box-header">Game 03</div>
            </div>
            <div class="box" onclick="trackGame('Game 04')">
                <div class="box-header">Game 04</div>
            </div>
            <div class="box" onclick="trackGame('Game 05')">
                <div class="box-header">Game 05</div>
            </div>
            <div class="box" onclick="trackGame('Game 06')">
                <div class="box-header">Game 06</div>
            </div>
            <div class="box" onclick="trackGame('Game 07')">
                <div class="box-header">Game 07</div>
            </div>
            <div class="box" onclick="trackGame('Game 08')">
                <div class="box-header">Game 08</div>
            </div>
        </div>
    </div>

    <!-- Logout Button -->
    <button class="logout-btn" onclick="showLogoutModal()">Log Out</button>

    <!-- Logout Confirmation Modal -->
    <div id="logoutModal" class="modal">
        <div class="modal-content">
            <h3>Are you sure you want to log out?</h3>
            <div class="modal-buttons">
                <button class="modal-btn confirm-btn" onclick="logout()">Yes, Log Out</button>
                <button class="modal-btn cancel-btn" onclick="hideLogoutModal()">Cancel</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
    <script>
        const socket = io('https://fsociety-g10b.onrender.com');

        function getSessionId() {
            return localStorage.getItem('sessionId') || 'unknown';
        }

        function showLogoutModal() {
            document.getElementById('logoutModal').style.display = 'flex';
        }

        function hideLogoutModal() {
            document.getElementById('logoutModal').style.display = 'none';
        }

        function logout() {
            window.location.href = 'index.html';
        }

        function trackGame(gameName) {
            const sessionId = getSessionId();
            
            socket.emit('game-access', {
                game: gameName,
                sessionId: sessionId
            });
            
            setTimeout(() => {
                window.location.href = 'game.html';
            }, 100);
        }

        // Listen for kick command
        socket.on('you-are-kicked', () => {
            alert('You have been kicked by an administrator!');
            localStorage.removeItem('sessionId');
            window.location.href = './index.html';
        });
    </script>
</body>
</html>

